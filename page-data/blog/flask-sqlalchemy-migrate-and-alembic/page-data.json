{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/blog/flask-sqlalchemy-migrate-and-alembic/","result":{"data":{"post":{"slug":"/flask-sqlalchemy-migrate-and-alembic/","title":"Flask-SQLAlchemy, sqlalchemy-migrate 대신 SQLAlchemy, alembic 써보기","date":"2014/01/23","tags":[{"name":"python","slug":"python"},{"name":"flask","slug":"flask"},{"name":"sqlalchemy","slug":"sqlalchemy"},{"name":"alembic","slug":"alembic"}],"description":null,"canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Flask-SQLAlchemy, sqlalchemy-migrate 대신 SQLAlchemy, alembic 써보기\",\n  \"date\": \"2014-01-24 03:15:35 +0900\",\n  \"slug\": \"/flask-sqlalchemy-migrate-and-alembic/\",\n  \"comments\": true,\n  \"tags\": [\"python\", \"flask\", \"sqlalchemy\", \"alembic\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\uC694\\uC998 \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://flask.pocoo.org/\"\n  }, \"Flask\"), \"\\uB97C \\uC870\\uAE08\\uC529 \\uBCF4\\uACE0\\uC788\\uB2E4.\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-iv-database\"\n  }, \"The Flask Mega-Tutorial, Part IV: Database\"), \"\\uB97C \\uC9C4\\uD589\\uD558\\uB2E4\\uAC00, flask-sqlalchemy, sqlalchemy-migrate \\uB300\\uC2E0\\uC5D0 sqlalchemy, alembic \\uC870\\uD569\\uC73C\\uB85C \\uAC08\\uC544\\uD0C0\\uAC8C \\uB41C \\uACBD\\uD5D8\\uC744 \\uC815\\uB9AC\\uD574\\uBCFC\\uAE4C \\uD55C\\uB2E4.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\uC11C\\uBC84\\uC0AC\\uC774\\uB4DC \\uC6F9\\uAC1C\\uBC1C\\uC5D0 \\uB300\\uD55C (\\uD639\\uC740 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uC5D0 \\uB300\\uD55C?) \\uC774\\uD574\\uAC00 \\uAC70\\uC758 \\uC5C6\\uB294 \\uC0C1\\uD0DC\\uC5D0\\uC11C \\uC815\\uB9AC\\uD558\\uB294 \\uAE00\\uC774\\uB77C, \\uC798\\uBABB\\uB41C \\uBD80\\uBD84\\uC774 \\uB9CE\\uC744\\uC218\\uB3C4 \\uC788\\uACA0\\uB2E4.\"), mdx(\"p\", null, \"\\uD398\\uC774\\uC2A4\\uBD81 Flask korea \\uADF8\\uB8F9\\uC5D0\\uC11C \\uC2A4\\uD130\\uB514\\uB97C \\uBAA8\\uC9D1\\uD558\\uAE38\\uB798 \\uB35C\\uCEE5 \\uC2E0\\uCCAD\\uD574\\uB193\\uACE0 \\uD29C\\uD1A0\\uB9AC\\uC5BC\\uC744 \\uBC84\\uBC85\\uC774\\uBA70 \\uC870\\uAE08\\uC529 \\uB530\\uB77C\\uD574\\uBCF4\\uACE0 \\uC788\\uB2E4. \\uB09C \\uC544\\uC8FC \\uAE30\\uCD08\\uBD80\\uD130 \\uD568\\uAED8\\uD558\\uB294 \\uCD08\\uC2EC\\uC790\\uC6A9 \\uC2A4\\uD130\\uB514\\uC778\\uC904 \\uC54C\\uC558\\uB294\\uB370, \\uADF8\\uB7F0\\uAC74 \\uC544\\uB2C8\\uC5C8\\uB098 \\uBCF4\\uB2E4. Flask \\uAE30\\uCD08\\uC9C0 \\uD30C\\uC774\\uC36C \\uAE30\\uCD08\\uAC00 \\uC544\\uB2C8\\uC5C8\\uC5B4..\"), mdx(\"p\", null, \"\\uC5EC\\uB2F4\\uC740 \\uC774\\uB9CC\\uD558\\uACE0 \\uBCF8\\uB860\\uC73C\\uB85C \\uB4E4\\uC5B4\\uAC00\\uC790.\"), mdx(\"hr\", null), mdx(\"p\", null, \"\\uD29C\\uD1A0\\uB9AC\\uC5BC\\uC758 4\\uC7A5 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4 \\uBD80\\uBD84\\uC744 \\uBCF4\\uBA74 DB\\uC640 \\uB9C8\\uC774\\uADF8\\uB808\\uC774\\uC158\\uD234\\uB85C \\uAC01\\uAC01 Flask-SQLAlchemy, sqlalchemy-migrate\\uB97C \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC788\\uB2E4. \\uC5EC\\uAE30\\uC5D0\\uC11C \\uACE0\\uBBFC\\uC774 \\uC0DD\\uAE34\\uB2E4.\"), mdx(\"h2\", null, \"SQLAlchemy \\uB300\\uC2E0 Flask-SQLAlchemy\\uB97C \\uC0AC\\uC6A9\\uD55C\\uB2E4\"), mdx(\"p\", null, \"Flask\\uC5D0\\uB294 \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://www.sqlalchemy.org/\"\n  }, \"SQLAlchemy\"), \"\\uB97C \\uC704\\uD55C \\uD655\\uC7A5\\uC778 Flask-SQLAlchemy\\uAC00 \\uC874\\uC7AC\\uD558\\uBA70, \\uD29C\\uD1A0\\uB9AC\\uC5BC\\uC5D0\\uC11C\\uB3C4 \\uD574\\uB2F9 \\uD655\\uC7A5\\uC744 \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC788\\uB2E4. SQLAlchemy\\uB97C \\uADF8\\uB300\\uB85C \\uC4F0\\uB294\\uAC83\\uBCF4\\uB2E4\\uB294 \\uC124\\uC815\\uD560\\uAC83\\uB3C4 \\uC904\\uC5B4\\uB4E4\\uACE0 \\uCF54\\uB4DC\\uAC00 \\uC880 \\uB354 \\uB2E8\\uC21C\\uD574\\uC838\\uC11C \\uB2E4\\uB8E8\\uAE30\\uAC00 \\uC27D\\uB2E4.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\uD558\\uC9C0\\uB9CC db\\uB97C \\uB2E4\\uB8E8\\uB294\\uB370 Flask\\uC758 \\uCEE8\\uD14D\\uC2A4\\uD2B8\\uC5D0 \\uAC00\\uB46C\\uB450\\uB294\\uAC8C \\uB9DE\\uB294\\uC9C0 \\uC758\\uBB38\\uC774 \\uB4E0\\uB2E4. Flask\\uB97C \\uBC97\\uC5B4\\uB098\\uC11C \\uC0AC\\uC6A9\\uC744 \\uD558\\uB824\\uBA74 \\uACB0\\uAD6D SQLAlchemy\\uB97C \\uBC30\\uC6CC\\uC57C \\uD558\\uB294\\uAC83 \\uC544\\uB2CC\\uAC00?\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", \"\\uC0AC\\uC2E4 \\uC774\\uB7F0 \\uACE0\\uBBFC\\uC740 \\uD604\\uC7AC \\uB2E8\\uACC4\\uC5D0\\uC11C \\uBD88\\uD544\\uC694\\uD55C \\uACE0\\uBBFC\\uC77C \\uC218 \\uC788\\uB2E4. \\uD558\\uC9C0\\uB9CC \\uC870\\uAE08 \\uB354 \\uC720\\uC5F0\\uD55C \\uB300\\uCC98\\uB97C \\uC704\\uD574\\uC11C \\uC77C\\uB2E8 Flask-SQLAlchemy\\uB97C \\uAC77\\uC5B4\\uB0B4\\uACE0 \\uC0DD\\uC9DC SQLAlchemy\\uB97C \\uC0AC\\uC6A9\\uD574\\uBCF4\\uAE30\\uB85C \\uD588\\uB2E4. \\uC774 \\uBD80\\uBD84\\uC740 \\uC880 \\uB354 \\uACF5\\uBD80\\uD574\\uBCF4\\uBA74\\uC11C \\uACB0\\uC815\\uD558\\uB294\\uAC78\\uB85C.\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://flask.pocoo.org/docs/patterns/sqlalchemy/\"\n  }, \"SQLAlchemy in Flask\"), \"\\uB97C \\uCC38\\uACE0\\uD574\\uBCF4\\uBA74 Flask\\uC5D0\\uC11C SQLAlchemy\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 4\\uAC00\\uC9C0 \\uBC29\\uC2DD\\uC744 \\uC18C\\uAC1C\\uD558\\uACE0 \\uC788\\uB2E4. \\uC774\\uACF3\\uC744 \\uCC38\\uACE0\\uD558\\uBA70 \\uCF00\\uC774\\uC2A4\\uC5D0 \\uB9DE\\uB294 \\uC120\\uD0DD\\uC744 \\uD558\\uB3C4\\uB85D \\uD558\\uC790.\"), mdx(\"h2\", null, \"sqlalchemy-migrate\\uB97C \\uC0AC\\uC6A9\\uD55C\\uB2E4\"), mdx(\"p\", null, \"\\uC774\\uAC74 \\uC880 \\uD655\\uC2E4\\uD788 \\uBB38\\uC81C\\uB77C\\uACE0 \\uBCF4\\uB294\\uAC8C, sqlalchemy-migrate\\uB294 \\uC774\\uBBF8 (\\uBCC4\\uB85C \\uC88B\\uC9C0 \\uC54A\\uC740) \\uAD6C\\uC2DC\\uB300\\uC758 \\uC720\\uBB3C\\uC774\\uB2E4. SQLAlchemy \\uC2E0\\uBC84\\uC804\\uC740 \\uC9C0\\uC6D0\\uD558\\uC9C0\\uB3C4 \\uC54A\\uC544\\uC11C \\uD29C\\uD1A0\\uB9AC\\uC5BC\\uC5D0\\uC11C\\uB3C4 pip \\uD328\\uD0A4\\uC9C0\\uB97C \\uC124\\uCE58\\uD560 \\uB54C SQLAlchemy\\uC758 \\uBC84\\uC804\\uC744 \\uAD6C\\uBC84\\uC804\\uC73C\\uB85C \\uAC15\\uC81C\\uD558\\uACE0 \\uC788\\uB2E4. \\uC774\\uAC74 \\uBCC4\\uB85C \\uC88B\\uC740 \\uC120\\uD0DD\\uC774 \\uC544\\uB2C8\\uB2E4.\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://code.google.com/p/sqlalchemy-migrate/\"\n  }, \"sqlalchemy-migrate \\uD504\\uB85C\\uC81D\\uD2B8 \\uD398\\uC774\\uC9C0\"), \"\\uC5D0\\uC11C\\uB3C4 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC774 \\uC548\\uB0B4\\uB97C \\uD558\\uACE0 \\uC788\\uC73C\\uBA70,\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"If you want to start a new project involving SQLAlchemy and have the need for database schema migrations use \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://bitbucket.org/zzzeek/alembic\"\n  }, \"Alembic\"), \". Alembic is from SQLAlchemy's author and is much better maintained than sqlalchemy-migrate.\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://blog.dahlia.kr/post/8153601295\"\n  }, \"sqlalchemy-migrate\\uC758 \\uBB38\\uC81C\\uC810\"), \"\\uC774\\uB77C\\uB294 \\uAE00\\uC5D0\\uC11C\\uB3C4 \\uBA87\\uAC00\\uC9C0 \\uBB38\\uC81C\\uC810\\uC744 \\uC9C0\\uC801\\uD558\\uACE0 \\uC788\\uB2E4.\"), mdx(\"p\", null, \"\\uBB50, \\uB0B4 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uADF8\\uB0E5 \\uD29C\\uD1A0\\uB9AC\\uC5BC\\uC5D0\\uC11C \\uC18C\\uAC1C\\uB41C sqlalchemy-migrate\\uB85C \\uAD6C\\uD604\\uD558\\uB294 \\uBC29\\uC2DD\\uC774 \\uBCC4\\uB85C \\uC6B0\\uC544\\uD574\\uBCF4\\uC774\\uC9C0 \\uC54A\\uC544\\uC11C\\uC9C0\\uB9CC..\"), mdx(\"p\", null, \"\\uC5EC\\uD2BC \\uBBF8\\uB798\\uB97C \\uC704\\uD574, alembic\\uC73C\\uB85C \\uAC08\\uC544\\uD0C0\\uC790. \\uD29C\\uD1A0\\uB9AC\\uC5BC \\uB9CC\\uB4E0 Miguel \\uC544\\uC800\\uC528\\uB3C4 \\uC800 \\uD29C\\uD1A0\\uB9AC\\uC5BC \\uD6C4\\uC5D0 alembic\\uC744 \\uC0AC\\uC6A9\\uD558\\uAE30 \\uC704\\uD55C \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Flask-Migrate\"), \"\\uB77C\\uB294 \\uD655\\uC7A5\\uC744 \\uB9CC\\uB4E4\\uC5B4 \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://blog.miguelgrinberg.com/post/flask-migrate-alembic-database-migration-wrapper-for-flask\"\n  }, \"Flask-Migrate: Alembic database migration wrapper for Flask\"), \"\\uC5D0 \\uC18C\\uAC1C\\uD558\\uACE0 \\uC788\\uB2E4. \\uC774 \\uBD80\\uBD84\\uC740 \\uD29C\\uD1A0\\uB9AC\\uC5BC \\uBB38\\uC11C\\uB97C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD574\\uC8FC\\uBA74 \\uC88B\\uC744\\uD150\\uB370, \\uCC45 \\uC4F4\\uB2E4\\uACE0 \\uC815\\uC2E0\\uC774 \\uC5C6\\uB098\\uBCF4\\uB2E4.\", mdx(\"sup\", {\n    parentName: \"p\",\n    \"id\": \"fnref-1\"\n  }, mdx(\"a\", {\n    parentName: \"sup\",\n    \"href\": \"#fn-1\",\n    \"className\": \"footnote-ref\"\n  }, \"1\"))), mdx(\"p\", null, \"Flask-Migrate\\uB294 Flask-SQLAlchemy\\uC5D0 \\uC758\\uC874\\uC131\\uC774 \\uC788\\uC73C\\uBBC0\\uB85C \\uC0DD\\uC9DC SQLAlchemy\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 \\uB0B4 \\uACBD\\uC6B0\\uB294 \\uC774 \\uB610\\uD55C \\uC0DD\\uC9DC alembic\\uC744 \\uC4F0\\uAE30\\uB85C \\uD588\\uB2E4. \\uC6EC\\uC9C0 \\uBC88\\uAC70\\uB85C\\uC6B4 \\uC120\\uD0DD\\uC744 \\uD574\\uBC84\\uB9B0\\uAC70 \\uAC19\\uC740\\uB370..\"), mdx(\"p\", null, \"alembic\\uC744 \\uADF8\\uB300\\uB85C \\uC0AC\\uC6A9\\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \\uC124\\uC815\\uC774 \\uC870\\uAE08 \\uD544\\uC694\\uD558\\uB2E4. alembic\\uC758 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"env.py\"), \"\\uD30C\\uC77C\\uC758 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"target_metadata\"), \" \\uBD80\\uBD84\\uC5D0 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC774 \\uC120\\uC5B8\\uD574\\uC8FC\\uC790.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\",\n    \"metastring\": \"alembic/env.py\",\n    \"alembic/env.py\": true\n  }, \"# target_metadata = mymodel.Base.metadata\\nimport os\\nimport sys\\nsys.path.append(os.getcwd())\\nfrom app import app\\nfrom app.database import Base\\nconfig.set_main_option(\\n    'sqlalchemy.url', app.config.get('SQLALCHEMY_DATABASE_URI'))\\ntarget_metadata = Base.metadata\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"SQLALCHEMY_DATABASE_URI\"), \" \\uBD80\\uBD84\\uC774 \\uD575\\uC2EC\\uC774\\uB2E4. flask\\uC758 \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"config.py\"), \" \\uD30C\\uC77C\\uC5D0\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\",\n    \"metastring\": \"config.py\",\n    \"config.py\": true\n  }, \"SQLALCHEMY_DATABASE_URI = 'postgresql://localhost/microblog'\\n\")), mdx(\"p\", null, \"\\uC640 \\uAC19\\uC774 \\uC120\\uC5B8\\uD574\\uB450\\uACE0 SQLAlchemy\\uC640 alembic\\uC5D0\\uC11C \\uACF5\\uD1B5\\uC73C\\uB85C \\uCC38\\uC870\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uD588\\uB2E4.\\nSQLAlchemy \\uC124\\uC815\\uC5D0\\uC11C\\uB3C4  create_engine \\uBD80\\uBD84\\uC744 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC774 \\uC120\\uC5B8\\uD574 \\uB450\\uC5C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\",\n    \"metastring\": \"database.py\",\n    \"database.py\": true\n  }, \"engine = create_engine(\\n    app.config.get('SQLALCHEMY_DATABASE_URI'), convert_unicode=True)\\n\")), mdx(\"h2\", null, \"\\uC815\\uB9AC\"), mdx(\"p\", null, \"\\uC77C\\uB2E8 \\uC5EC\\uAE30\\uAE4C\\uC9C0 \\uD574\\uB450\\uC5C8\\uB354\\uB2C8 \\uAE30\\uBCF8\\uC801\\uC778 \\uC14B\\uD305\\uC740 \\uC644\\uB8CC\\uB41C \\uAC83 \\uAC19\\uB2E4. SQLAlchemy/alembic \\uC870\\uD569\\uC73C\\uB85C \\uC14B\\uD305\\uC744 \\uB9C8\\uCE58\\uACE0 Flask \\uD29C\\uD1A0\\uB9AC\\uC5BC\\uC744 \\uACC4\\uC18D \\uC9C4\\uD589\\uD558\\uACE0 \\uC788\\uB2E4.\"), mdx(\"p\", null, \"\\uD639\\uC2DC \\uB0B4\\uAC00 \\uB193\\uCE58\\uACE0 \\uC788\\uAC70\\uB098 \\uC798\\uBABB\\uB41C \\uBD80\\uBD84\\uC740 \\uD53C\\uB4DC\\uBC31 \\uBD80\\uD0C1\\uB4DC\\uB9B0\\uB2E4. (__)\"), mdx(\"div\", {\n    \"className\": \"footnotes\"\n  }, mdx(\"hr\", {\n    parentName: \"div\"\n  }), mdx(\"ol\", {\n    parentName: \"div\"\n  }, mdx(\"li\", {\n    parentName: \"ol\",\n    \"id\": \"fn-1\"\n  }, \"\\uD29C\\uD1A0\\uB9AC\\uC5BC \\uB0B4\\uC6A9 \\uC5EE\\uC5B4\\uC11C \\uCC45\\uC73C\\uB85C \\uB0B4\\uB294 \\uAC83 \\uAC19\\uB354\\uB77C. \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"http://blog.miguelgrinberg.com/post/flask-book-and-pycon-update\"\n  }, \"http://blog.miguelgrinberg.com/post/flask-book-and-pycon-update\"), mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#fnref-1\",\n    \"className\": \"footnote-backref\"\n  }, \"\\u21A9\")))));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"요즘  Flask 를 조금씩 보고있다. The Flask Mega-Tutorial, Part IV: Database 를 진행하다가, flask-sqlalchemy, sqlalchemy-migrate 대신에 sqlalchemy, alembic…","timeToRead":2,"banner":null}},"pageContext":{"slug":"/flask-sqlalchemy-migrate-and-alembic/","formatString":"YYYY/MM/DD"}},"staticQueryHashes":["2744905544","3090400250","318001574"]}